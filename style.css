:root {
  --bg: #0b1220;
  --panel: #111a2b;
  --muted: #8aa0b8;
  --text: #e9f0fb;
  --accent: #4c8bf5;
  --danger: #f55a5a;
}
* { box-sizing: border-box; }
body { margin: 0; background: var(--bg); color: var(--text); font: 14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; }
.app { max-width: 1100px; margin: 24px auto; padding: 12px; }
.header { display:flex; justify-content:space-between; align-items:center; gap:8px; margin-bottom:12px; }
.header h1 { margin:0; font-size:20px; }
.badge { background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); padding:4px 8px; border-radius:999px; color: var(--muted); font-size:12px; }
.grid { display:grid; grid-template-columns: 260px 1fr 320px; gap:12px; }
.card { background: var(--panel); border:1px solid rgba(255,255,255,0.08); border-radius:14px; padding:12px; }
.card h2 { margin:2px 0 10px; font-size:14px; color: var(--muted); text-transform: uppercase; letter-spacing: .35px; }
.detective-btn { width:100%; text-align:left; padding:10px 12px; border-radius:10px; color: var(--text); background: transparent; border:1px solid rgba(255,255,255,.12); cursor:pointer; margin-bottom:8px; }
.detective-btn.active { background: rgba(76,139,245,.18); border-color: var(--accent); }
.controls { display:grid; grid-template-columns: 1fr 1fr; gap:8px; align-items:end; }
input[type=date], select { width:100%; padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:#0d1526; color:var(--text); }
button.primary { padding:10px 14px; border-radius:10px; border:none; background: var(--accent); color:#fff; font-weight:700; cursor:pointer; }
button.ghost { padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,.12); background:transparent; color:var(--text); cursor:pointer; }
.legend { display:flex; flex-wrap:wrap; gap:6px; }
.legend .chip { display:inline-flex; align-items:center; gap:6px; border:1px solid rgba(255,255,255,.12); border-radius:999px; padding:2px 8px; font-size:12px; }
.legend .dot { width:10px; height:10px; border-radius:50%; }
.calendar { user-select:none; }
.month-bar { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.month-grid { display:grid; grid-template-columns: repeat(7, 1fr); gap:6px; }
.dow { text-align:center; color: var(--muted); font-size:12px; }
.day { min-height:85px; border:1px solid rgba(255,255,255,.08); border-radius:10px; padding:6px; background: rgba(255,255,255,.03); }
.day .num { font-size:12px; color: var(--muted); }
.block { margin-top:4px; font-size:11px; font-weight:600; padding:4px 6px; border-radius:8px; color:#0b1220; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
.block .x { float:right; color:#0b1220; cursor:pointer; font-weight:900; margin-left:6px; }
.warning { color: var(--danger); font-weight:700; }
.list { max-height:260px; overflow:auto; display:grid; gap:6px; }
.list-item { display:grid; grid-template-columns: 1fr 1fr auto; gap:8px; border:1px solid rgba(255,255,255,.1); background: rgba(255,255,255,.04); border-radius:10px; padding:8px; }
